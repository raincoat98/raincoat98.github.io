# SQL에서 한글 정렬하기

한글 데이터를 정렬할 때는 일반적인 `ORDER BY` 절을 사용할 수 있습니다.<br>
하지만 한글은 기본적으로 UTF-8 인코딩이 되어 있어,<br>
이를 올바르게 정렬하려면 인코딩을 고려해야 할 때가 있습니다.

## 1. 한글 정렬

한글 데이터가 올바르게 정렬되도록 하려면<br>
SQL 데이터베이스에서 사용할 수 있는 여러 가지 방법이 있습니다.<br>
각 데이터베이스 관리 시스템(DBMS)마다 처리 방식이 다를 수 있으므로,<br>
사용 중인 DBMS의 특성을 고려하여 적절한 방법을 선택해야 합니다.

### 예제: PostgreSQL에서 한글 정렬

아래의 예제는 PostgreSQL에서 `name` 컬럼의 한글 데이터를 `bytea` 타입으로 변환하여 정렬하는 방법을 보여줍니다:

```sql
-- 한글 이름을 bytea로 변환하여 정렬
SELECT name
FROM users
ORDER BY name::bytea;
```

`name::bytea`는 `name` 컬럼을 `bytea` 타입으로 변환하여, UTF-8 인코딩을 기준으로 정렬합니다. 이렇게 하면 한글이 정확히 정렬됩니다.

### 예제: MySQL에서 한글 정렬

MySQL에서는 한글 정렬을 위해 `COLLATE` 절을 사용할 수 있습니다. 다음은 한글 데이터를 올바르게 정렬하기 위해 `utf8mb4_unicode_ci` 대소문자 구분이 없는 유니코드 기반의 정렬 규칙을 사용하는 예제입니다:

```sql
-- 한글 데이터를 올바르게 정렬하기
SELECT name
FROM users
ORDER BY name COLLATE utf8mb4_unicode_ci;
```

이 예제는 MySQL의 `COLLATE` 절을 사용하여 한글 데이터를 올바르게 정렬합니다.

### 참고 사항

- **DBMS별 한글 정렬 지원**: Oracle, SQL Server 등 다른 데이터베이스에서도 한글 정렬을 지원하는 방법이 있습니다. 각 데이터베이스 시스템의 공식 문서를 참고하여 한글 정렬 방법을 확인하세요.
- **정렬 규칙(Collation)**: DBMS에 따라 한글 데이터를 포함한 문자열 정렬 방식을 결정하는 규칙이 있습니다. 올바른 정렬 규칙을 사용하는 것이 중요합니다.

이와 같은 방법들을 사용하여 한글 데이터를 올바르게 정렬할 수 있습니다.
